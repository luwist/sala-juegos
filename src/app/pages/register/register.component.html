<main class="main">
  @if (showError) {
  <app-toast message="{{ messageError }}" />
  }
  <div>
    <h1 class="title">Crear una cuenta</h1>
    <form class="form" (submit)="login($event)" [formGroup]="registerForm">
      <label hlmLabel>
        Usuario
        <input
          hlmInput
          type="text"
          placeholder="Usuario"
          formControlName="username"
        />
      </label>
      @if (usernameControl.invalid && (usernameControl.touched ||
      usernameControl.dirty)) {
      <p class="error">El Usuario no puede estar vacio</p>
      }

      <label hlmLabel>
        Correo Electronico
        <input
          hlmInput
          type="email"
          placeholder="Correo Electronico"
          formControlName="email"
        />
      </label>
      @if (emailControl.invalid && (emailControl.touched || emailControl.dirty))
      { @if (emailControl.hasError('required')) {
      <p class="error">El correo electronico no puede estar vacio</p>
      } @if (emailControl.hasError('email')) {
      <p class="error">Ingrese un correo electronico valido</p>
      } }

      <label hlmLabel>
        Contrase単a
        <input
          hlmInput
          type="password"
          placeholder="Contrase単a"
          formControlName="password"
        />
      </label>
      @if (passwordControl.invalid && (passwordControl.touched ||
      passwordControl.dirty)) {
      <p class="error">La contrase単a no puede estar vacia</p>
      }

      <button
        [disabled]="(registerForm.statusChanges | async) !== 'VALID'"
        hlmBtn
        type="submit"
        class="mt-10"
      >
        {{ buttonText }}
      </button>

      <p class="create-account">
        多Ya tienes una cuenta? <a href="/login">Ingresar</a>
      </p>
    </form>
  </div>
</main>
